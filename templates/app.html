<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../static/css/bootstrap.css">
    <link rel="stylesheet" href="../static/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="../static/css/tf.css">
    <script src=""></script>
    <title>Lenz-A-Lot</title>
<style>
.bg {
/* The image used */
background-image: url("../static/img/lenz.png");

/* Full height */


/* Center and scale the image nicely */
background-position: center;
background-repeat: no-repeat;
background-size: contain;
}
</style>

</head>
<body class="bg" style="background-color:rgb(110, 105, 96);">
    <h1 class="tf-center" style="margin-bottom:2%; color:rgb(253, 253, 253)">Welkum to <b>Lenz-A-Lot</b></h1>

    <div class="tf-row-padding">
    
    
    <div class="tf-twothird">
        <!--Logs card-->
        <div class="card" style="border-color: rgb(224, 17, 17); background-color: rgba(255, 11, 11, 0.377); color:white;">
            <div class="card-body">
                <h1 class="card-title text-center" style="color: green;">Realtime Activities</h1>
                <table class="table even" style="">
                    <thead>
                        <tr>
                            
                            <th scope="col">Camera Number</th>
                            <th scope="col">Video Name</th>
                            <th scope="col">Thresh hold</th>
                            <th scope="col">Time</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                            <tbody id="demo">
                                <script>
                                     var request = new XMLHttpRequest()
                                     request.open('GET', 'http://127.0.0.1:5000/results', true)
                                     request.onload = function() {
                                     // Begin accessing JSON data here
                                     var data = this.response
                                     
                                     console.log(data)
                                        
                                                var txt = ''
                                                if (request.status >= 200 && request.status < 400) {
                                                    //result=JSON.parse(data)
                                                    //document.getElementById("ead").innerHTML = result['response'] +' '+'(RTGS$)';
                                                    //console.log(result)

                                                    myObj = JSON.parse(data);
                                                    //txt += "  <table class='table table-dark' >"
                                                    for (x in myObj) {
                                                        txt += "<tr><td>" + myObj[x].camera_feed + "</td>";
                                                        txt += "<td>" + myObj[x].time_stamps + "</td>";
                                                        txt += "<td>" + myObj[x].motion + "</td>";
                                                        txt += "<td>" + myObj[x].date_time + "</td></tr>";
                                                        
                                                    }

                                                    txt += "</tbody></table>"
                                                    document.getElementById("demo").innerHTML = txt;

                                                } else {
                                                    console.log('error')
                                                }
                                            }
                                            request.send()
                                        
                                    
                                </script>
             
                    </tbody>
                </table>

            </div>
        </div>
        <legend></legend>
    

    <!--Actions Card-->

        <div class="card" style="border-color: rgb(181, 184, 12)">
            <div class="card-body">
                <h1 class="card-title" style="color: green;">Actions</h1>
                <a href="/start/camera" target="blank" class="btn btn-primary" style="float:left; width: 170px;"><i class="fa fa-user-plus" aria-hidden="true"></i> Start Services</a>

                <a href="/results" target="" class="btn btn-warning"
                    style="float:none;  width: 150px; margin-left: 25%;"><i class="fa fa-user-plus"
                        aria-hidden="true"></i> View Logs</a>

                <a href="/email/sent" target="_blank" class="btn btn-success" style="float:right;  width: 150px;"><i class="fa fa-mail-bulk" aria-hidden="true"></i> Email Logs</a>

                
            </div>
        </div>
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    </div>
    <!--Settings Tab Aside-->
        <div class="tf-third">
            
            <div class="card" style="margin-left:3%; border-color: rgb(30, 255, 1); background-color:rgba(128, 255, 0, 0.267);">
                <div class="card-body">
                    <h1 class="card-title" style="color: rgb(255, 255, 255);">Settings</h1>
                    <p>Time of the Day: {{date}} </p>
                    <form action="" method="post">
                        
                        <label for="threshold">Threshold</label><br/>
                        <input type="text" class="form-control tf-half">
                        <input type="submit" class="btn btn-primary tf-quarter form-control" style="margin-left:4%" value="Set">
                        <legend></legend>
                        <label for="time">Time</label><br />
                        <input type="text" class="form-control tf-half" placeholder="7:30:43">
                        <input type="submit" class="btn btn-primary tf-quarter form-control" style="margin-left:4%" value="Set">

                        <legend></legend>
                        <label for="email">Email Address</label><br />
                        <input type="email" class="form-control tf-half" placeholder="admin@lenzalot.com">
                        <input type="submit" class="btn btn-primary tf-quarter form-control" style="margin-left:4%" value="Set">
                    </form>
                </div>
            </div>

        </div>
   

    </div>

    <div class="" style="width:100%; margin-top:5%;">

        <div class="tf-bar tf-light-grey tf-center">
            <p>Copyrights (c) 2019. I_amBlackShifu.</p>
        </div>
    </div>

</body>
</html>